import{_ as f,K as r,T as b,W as x,X as y,B as g,Y as w,d as h,Z as v,o as d,c as a,b as e,F as u,r as D,V as m,w as k,U as C,a as E,t as n,E as p}from"./index.e9c5db50.js";const F={data(){return{title:"",user:r.getters.userEmail,films:[],showDeleteModal:!1,filmToDelete:""}},methods:{async fetchUserFilms(){const o=[],l=b(h,"productions"),c=x(l,y("user","==",r.getters.userEmail));(await g(c)).forEach(s=>{var i=s.data();i.id=s.id,o.push(i)}),this.films=o},async deleteProduction(){const o=w(h,"productions",this.filmToDelete.id);await v(o),this.fetchUserFilms(),this.showDeleteModal=!1},editFilm(o){this.$router.push({name:"EditOne",params:{id:o.id}})}},created(){this.fetchUserFilms()}},M=E('<input type="checkbox" id="edit-modal" class="modal-toggle"><div class="modal"><div class="modal-box"><h3 class="font-bold text-lg">Edit Production Details</h3><p class="py-4">Modify the details of your film production below.</p><div class="modal-action"><label for="edit-modal" class="btn">Close</label></div></div></div>',2),T={class:"flex flex-col items-center min-h-screen py-2 pt-14"},V=e("h1",{class:"text-3xl font-bold text-primary-light"},"Edit a Production",-1),N=e("p",{class:"text-primary-light"},"Update the form below to modify the details of a screening, open positions on your set, or both.",-1),P={key:0,class:"flex flex-col items-center w-1/2 mt-10"},U={class:"flex justify-between align-middle"},B={class:"flex flex-col"},A={class:"font-bold text-2xl mt-4 tracking-tighter"},S=e("strong",null,"Director:",-1),q=e("strong",null,"Producer:",-1),R={class:"flex flex-row space-x-2"},j=["onClick"],G=["onClick"],K={key:0,class:"modal"},L={class:"modal-box"},O=e("h3",{class:"font-bold text-lg"},"Are you sure?",-1),W=e("p",{class:"py-4"},"Do you really want to delete this production? This action cannot be undone.",-1),X={class:"modal-action"},Y=e("label",{for:"delete-modal",class:"btn"},"Cancel",-1);function Z(o,l,c,_,s,i){return d(),a(u,null,[M,e("div",T,[V,N,s.films.length>0?(d(),a("section",P,[(d(!0),a(u,null,D(s.films,t=>(d(),a("div",{key:t.id,class:"bg-white p-4 rounded-lg w-full mb-4 shadow-sm"},[e("div",U,[e("div",B,[e("h3",A,n(t.title),1),e("p",null,[S,p(" "+n(t.director?t.director:"N/A"),1)]),e("p",null,[q,p(" "+n(t.producer?t.producer:"N/A"),1)])]),e("div",R,[e("button",{onClick:z=>i.editFilm(t),class:"btn btn-primary"}," Edit ",8,j),e("button",{onClick:()=>(s.showDeleteModal=!0)&&(s.filmToDelete=t),class:"btn btn-primary bg-red-600"}," Delete ",8,G)])])]))),128))])):m("",!0)]),k(e("input",{type:"checkbox","onUpdate:modelValue":l[0]||(l[0]=t=>s.showDeleteModal=t),id:"delete-modal",class:"modal-toggle"},null,512),[[C,s.showDeleteModal]]),s.showDeleteModal?(d(),a("div",K,[e("div",L,[O,W,e("div",X,[e("button",{onClick:l[1]||(l[1]=(...t)=>i.deleteProduction&&i.deleteProduction(...t)),class:"btn"},"Confirm"),Y])])])):m("",!0)],64)}var I=f(F,[["render",Z]]);export{I as default};
