import{_ as E,M as m,$ as x,a1 as P,L as _,N as k,O as w,Q as v,a2 as V,h as A,o as d,c as p,b as e,U as D,w as i,V as c,W as b,X as f,F as S,r as F,d as C}from"./index.94d5233a.js";const G={data(){return{title:"",tagline:"",contact:"",description:"",director:"",producer:"",genre:"",posterUrl:"",mediaUrls:[],shootStart:"",shootEnd:"",positions:[],vacancies:!1,screening:!1,actors:!1,screenDate:"",user:m.getters.userEmail,characters:[{name:"",description:""}]}},mounted(){const l=this.$route.params.id,o=x(C,"productions",l);P(o).then(u=>{if(u.exists()){const r=u.data();this.title=r.title,this.tagline=r.tagline,this.contact=r.contact,this.description=r.description,this.director=r.director,this.producer=r.producer,this.genre=r.genre,this.posterUrl=r.posterUrl,this.mediaUrls=r.mediaUrls,this.shootStart=this.firestoreTimestampToDateInputValue(r.shootStart),this.shootEnd=this.firestoreTimestampToDateInputValue(r.shootEnd),this.positions=r.positions,this.vacancies=r.vacancies,this.screening=r.screening,this.actors=r.actors,this.screenDate=r.screenDate,this.user=r.user,this.characters=r.roles,this.allPositionsChecked()}})},methods:{async updateFilm(){const l=this.$refs.posterInput.files[0];if(!l.type.startsWith("image/")){alert("Only images are accepted for the poster.");return}const o=_(k,`${this.title}/poster`);await w(o,l).then(async n=>{const a=await v(o);this.posterUrl=a});const u=this.$refs.mediaInput.files;for(let n=0;n<u.length;n++){const a=u[n],y=_(k,`${this.title}/media/${a.name}`);await w(y,a).then(async lt=>{const U=await v(y);this.mediaUrls.push(U)})}document.querySelectorAll('input[type="checkbox"]:checked').forEach(n=>{n.value!="on"&&this.positions.push(n.value)});const s={title:this.title,tagline:this.tagline,contact:this.contact,description:this.description,director:this.director,producer:this.producer,positions:this.positions,genre:this.genre,posterUrl:this.posterUrl,mediaUrls:this.mediaUrls,shootStart:this.shootStart===""?"TBD":new Date(Date.parse(this.shootStart)),shootEnd:this.shootEnd===""?"TBD":new Date(Date.parse(this.shootEnd)),vacancies:this.vacancies,screening:this.screening,screenDate:this.screenDate===""?"TBD":new Date(Date.parse(this.screenDate)),user:m.getters.userEmail,roles:this.characters},h=this.characters.reduce((n,a)=>(n[a.name]=a.description,n),{});s.roles=h;const g=this.$route.params.id,t=x(C,"productions",g);await V(t,s)},addCharacter(){this.characters.push({name:"",description:""})},redirectToOpportunitiesForFilmmakers(){this.$router.push({name:"opportunitiesFilmmakers"})},firestoreTimestampToDateInputValue(l){if(l==="TBD")return"TBD";const o=l.toDate(),u=o.getFullYear(),r=String(o.getMonth()+1).padStart(2,"0"),s=String(o.getDate()).padStart(2,"0");return`${u}-${r}-${s}`},allPositionsChecked(){return this.positions.every(l=>l.checked)}}},T=e("input",{type:"checkbox",id:"my-modal",class:"modal-toggle"},null,-1),I={class:"modal"},L={class:"modal-box"},B=e("h3",{class:"font-bold text-lg"},"Congratulations!",-1),R=e("p",{class:"py-4"},'Your film has been submitted to our system! If you are looking to complete your crew, vacancies for your set have been published on the "Set Opportunities" page.',-1),N={class:"modal-action"},O={class:"flex flex-col items-center min-h-screen py-2 pt-14"},q=e("h1",{class:"text-3xl font-bold text-primary-light"},"Edit a Production",-1),M=e("p",{class:"text-primary-light"},"Fill out the form below to list a screeening, open positions on your set, or both.",-1),j={class:"flex flex-col gap-2 w-full px-4 py-4"},J=e("label",{class:"text-primary-light",for:"title"},"Title",-1),W={class:"flex flex-row gap-4 w-full px-4 py-4"},Y={class:"flex flex-col gap-2 w-1/2"},K=e("label",{class:"text-primary-light",for:"director"},"Director",-1),Q={class:"flex flex-col gap-2 w-1/2"},X=e("label",{class:"text-primary-light",for:"producer"},"Producer",-1),z={class:"flex flex-row gap-4 w-full px-4 py-4"},H={class:"flex flex-col gap-2 w-3/4"},Z=e("label",{class:"text-primary-light",for:"tagline"},"Tagline",-1),$={class:"flex flex-col gap-2 w-1/4"},ee=e("label",{class:"text-primary-light",for:"genre"},"Genre",-1),oe={class:"flex flex-col gap-2 w-full px-4 py-4"},te=e("label",{class:"text-primary-light",for:"contact"},"Contact",-1),se={class:"flex flex-col gap-2 w-full px-4 py-4"},re=e("label",{class:"text-primary-light",for:"description"},"Description",-1),ie={class:"flex flex-row gap-4 w-full px-4 py-4"},le={class:"flex flex-col w-1/2"},ce=e("label",{class:"block mb-2 text-primary-light",for:"poster"},"Upload Poster",-1),ne={class:"block w-full text-primary-light border border-gray-300 rounded-lg cursor-pointer focus:border-primary-light focus:ring focus:ring-primary-light focus:ring-opacity-50",type:"file",id:"poster",ref:"posterInput"},ae=e("p",{class:"mt-1 text-sm text-gray-500 dark:text-gray-300",id:"file_input_help"},"PNG or JPEG.",-1),de={class:"flex flex-col w-1/2"},pe=e("label",{class:"block mb-2 text-primary-light"},"Additional Media (select up to 5)",-1),ue={class:"block w-full text-primary-light border border-gray-300 rounded-lg cursor-pointer focus:border-primary-light focus:ring focus:ring-primary-light focus:ring-opacity-50",type:"file",id:"media",ref:"mediaInput",multiple:""},he=e("p",{class:"mt-1 text-sm text-gray-500 dark:text-gray-300",id:"file_input_help"},"Up to 5 files. PNG, JPEG, or PDF.",-1),ge={class:"flex flex-row gap-4 w-full px-4 py-4"},fe={class:"flex flex-col gap-2 w-1/2"},be=e("label",{class:"text-primary-light",for:"shootStart"},"Shoot Start",-1),ye={class:"flex flex-col gap-2 w-1/2"},me=e("label",{class:"text-primary-light",for:"shootEnd"},"Shoot End",-1),xe={class:"px-4 py-4"},_e={class:"flex flex-row items-center gap-4 justify-center label cursor-pointer text-primary-light",for:"vacancies"},ke=e("span",{class:""},"Looking for additional crew members?",-1),we={key:0,class:"flex flex-col w-full px-4 py-4 gap-4"},ve=e("label",{class:"text-primary-light"},"Positions Available",-1),De={class:"w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm focus:border-primary-light focus:ring focus:ring-primary-light focus:ring-opacity-50"},Se={class:"w-full rounded-t-lg border-b border-gray-200 dark:border-gray-600"},Ce={class:"flex items-center py-2 gap-2"},Ue={class:"checkbox checkbox-xs",type:"checkbox",ref:"checkbox",name:"position",value:"Director of Photography",id:"Director of Photography"},Ee=e("label",{for:"Director of Photography"},"Director of Photography",-1),Pe={class:"w-full rounded-t-lg border-b border-gray-200 dark:border-gray-600"},Ve={class:"flex items-center py-2 gap-2"},Ae={class:"checkbox checkbox-xs",type:"checkbox",ref:"checkbox",name:"position",value:"Assistant Camera",id:"Assistant Camera"},Fe=e("label",{for:"Assistant Camera"},"Assistant Camera",-1),Ge={class:"w-full rounded-t-lg border-b border-gray-200 dark:border-gray-600"},Te={class:"flex items-center py-2 gap-2"},Ie={class:"checkbox checkbox-xs",type:"checkbox",ref:"checkbox",name:"position",value:"Gaffer",id:"Gaffer"},Le=e("label",{for:"Gaffer"},"Gaffer",-1),Be={class:"w-full rounded-t-lg border-b border-gray-200 dark:border-gray-600"},Re={class:"flex items-center py-2 gap-2"},Ne={class:"checkbox checkbox-xs",type:"checkbox",ref:"checkbox",name:"position",value:"Sound Designer",id:"Sound Designer"},Oe=e("label",{for:"Sound Designer"},"Sound Designer",-1),qe={class:"w-full rounded-t-lg border-b border-gray-200 dark:border-gray-600"},Me={class:"flex items-center py-2 gap-2"},je={class:"checkbox checkbox-xs",type:"checkbox",ref:"checkbox",name:"position",value:"Sound Editor",id:"Sound Editor"},Je=e("label",{for:"Sound Editor"},"Sound Editor",-1),We={class:"w-full rounded-t-lg border-b border-gray-200 dark:border-gray-600"},Ye={class:"flex items-center py-2 gap-2"},Ke={class:"checkbox checkbox-xs",type:"checkbox",ref:"checkbox",name:"position",value:"Editor (General)",id:"Editor (General)"},Qe=e("label",{for:"Editor (General)"},"Editor (General)",-1),Xe={class:"w-full rounded-t-lg border-b border-gray-200 dark:border-gray-600"},ze={class:"flex items-center py-2 gap-2"},He={class:"checkbox checkbox-xs",type:"checkbox",ref:"checkbox",name:"position",value:"Colorist",id:"Colorist"},Ze=e("label",{for:"Colorist"},"Colorist",-1),$e={class:"w-full rounded-t-lg border-b border-gray-200 dark:border-gray-600"},eo={class:"flex items-center py-2 gap-2"},oo={class:"checkbox checkbox-xs",type:"checkbox",ref:"checkbox",name:"position",value:"Assistant Director",id:"Assistant Director"},to=e("label",{for:"Assistant Director"},"Assistant Director",-1),so={class:"w-full rounded-t-lg border-b border-gray-200 dark:border-gray-600"},ro={class:"flex items-center py-2 gap-2"},io={class:"checkbox checkbox-xs",type:"checkbox",ref:"checkbox",name:"position",value:"Assistant Producer",id:"Assistant Producer"},lo=e("label",{for:"Assistant Producer"},"Assistant Producer",-1),co={class:"w-full rounded-t-lg border-b border-gray-200 dark:border-gray-600"},no={class:"flex items-center py-2 gap-2"},ao={class:"checkbox checkbox-xs",type:"checkbox",ref:"checkbox",name:"position",value:"PA",id:"PA"},po=e("label",{for:"PA"},"Production Assistant (PA)",-1),uo={class:"w-full rounded-t-lg border-b border-gray-200 dark:border-gray-600"},ho={class:"flex items-center py-2 gap-2"},go={class:"checkbox checkbox-xs",type:"checkbox",ref:"checkbox",name:"position",value:"Grip",id:"Grip"},fo=e("label",{for:"Grip"},"Grip",-1),bo={class:"w-full rounded-t-lg border-b border-gray-200 dark:border-gray-600"},yo={class:"flex items-center py-2 gap-2"},mo={class:"checkbox checkbox-xs",type:"checkbox",ref:"checkbox",name:"position",value:"Composer",id:"Composer"},xo=e("label",{for:"Composer"},"Composer",-1),_o={class:"w-full rounded-t-lg border-b border-gray-200 dark:border-gray-600"},ko={class:"flex items-center py-2 gap-2"},wo={class:"checkbox checkbox-xs",type:"checkbox",ref:"checkbox",name:"position",value:"Production (Set) Designer",id:"Production (Set) Designer"},vo=e("label",{for:"Production (Set) Designer"},"Production (Set) Designer",-1),Do={class:"w-full rounded-t-lg border-b border-gray-200 dark:border-gray-600"},So={class:"flex items-center py-2 gap-2"},Co={class:"checkbox checkbox-xs",type:"checkbox",ref:"checkbox",name:"position",value:"Sound Recordist",id:"Sound Recordist"},Uo=e("label",{for:"Sound Recordist"},"Sound Recordist",-1),Eo={class:"w-full rounded-t-lg border-b border-gray-200 dark:border-gray-600"},Po={class:"flex items-center py-2 gap-2"},Vo={class:"checkbox checkbox-xs",type:"checkbox",ref:"checkbox",name:"position",value:"Costume Designer",id:"Costume Designer"},Ao=e("label",{for:"Costume Designer"},"Costume Designer",-1),Fo={class:"w-full rounded-t-lg border-b border-gray-200 dark:border-gray-600"},Go={class:"flex items-center py-2 gap-2"},To={class:"checkbox checkbox-xs",type:"checkbox",ref:"checkbox",name:"position",value:"Intimacy Coordinator",id:"Intimacy Coordinator"},Io=e("label",{for:"Intimacy Coordinator"},"Intimacy Coordinator",-1),Lo={class:"w-full rounded-t-lg border-gray-200 dark:border-gray-600"},Bo={class:"flex items-center py-2 gap-2"},Ro={class:"checkbox checkbox-xs",type:"checkbox",ref:"checkbox",name:"position",value:"Fight Coordinator",id:"Fight Coordinator"},No=e("label",{for:"Fight Coordinator"},"Fight Coordinator",-1),Oo={class:"px-4 py-4"},qo={class:"flex flex-row items-center gap-4 justify-center label cursor-pointer text-primary-light",for:"actors"},Mo=e("span",{class:""},"Looking for actors?",-1),jo={key:0,class:"flex flex-col w-full px-4 py-4 gap-4"},Jo=e("label",{class:"text-primary-light"},"Characters Needed",-1),Wo={class:"w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm focus:border-primary-light focus:ring focus:ring-primary-light focus:ring-opacity-50"},Yo={class:"flex flex-col py-2 gap-2"},Ko=e("label",{class:"text-primary-light",for:"characterName"},"Character Name",-1),Qo=["onUpdate:modelValue"],Xo=e("label",{class:"text-primary-light",for:"characterDescription"},"Description",-1),zo=["onUpdate:modelValue"],Ho={class:"px-4 py-4"},Zo={class:"flex flex-row items-center gap-4 justify-center label cursor-pointer text-primary-light",for:"screening"},$o=e("span",{class:"text-primary-light",for:"screening"},"Is the film screening?",-1),et={key:0,class:"flex flex-col gap-2 w-full px-4 py-4"},ot=e("label",{class:"text-primary-light",for:"screeningDate"},"Screening Date",-1),tt={key:0,class:"flex flex-col gap-2 w-full px-4 py-4"},st=e("label",{class:"text-primary-light",for:"screeningLocation"},"Screening Location",-1),rt=e("div",{class:"flex flex-row justify-center w-full px-4 py-4"},[e("button",{for:"my-modal",class:"btn w-full px-4 py-2 text-white bg-primary-light rounded-md shadow-sm hover:bg-primary-dark focus:outline-none focus:ring focus:ring-primary-light focus:ring-opacity-50"},"Submit")],-1);function it(l,o,u,r,s,h){const g=A("auto-animate");return d(),p(S,null,[T,e("div",I,[e("div",L,[B,R,e("div",N,[e("label",{onClick:o[0]||(o[0]=(...t)=>h.redirectToOpportunitiesForFilmmakers&&h.redirectToOpportunitiesForFilmmakers(...t)),class:"btn"},"Go to your published production")])])]),e("div",O,[q,M,e("form",{class:"flex flex-col flex-wrap min-w-full px-96 py-4",onSubmit:o[17]||(o[17]=D((...t)=>h.updateFilm&&h.updateFilm(...t),["prevent"]))},[e("div",j,[J,i(e("input",{required:"",class:"w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm focus:border-primary-light focus:ring focus:ring-primary-light focus:ring-opacity-50",type:"text",id:"title","onUpdate:modelValue":o[1]||(o[1]=t=>s.title=t),placeholder:""},null,512),[[c,s.title]])]),e("div",W,[e("div",Y,[K,i(e("input",{required:"",class:"w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm focus:border-primary-light focus:ring focus:ring-primary-light focus:ring-opacity-50",type:"text",id:"director","onUpdate:modelValue":o[2]||(o[2]=t=>s.director=t),placeholder:""},null,512),[[c,s.director]])]),e("div",Q,[X,i(e("input",{class:"w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm focus:border-primary-light focus:ring focus:ring-primary-light focus:ring-opacity-50",type:"text",id:"producer","onUpdate:modelValue":o[3]||(o[3]=t=>s.producer=t),placeholder:""},null,512),[[c,s.producer]])])]),e("div",z,[e("div",H,[Z,i(e("input",{class:"w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm focus:border-primary-light focus:ring focus:ring-primary-light focus:ring-opacity-50",type:"text",id:"tagline","onUpdate:modelValue":o[4]||(o[4]=t=>s.tagline=t),placeholder:""},null,512),[[c,s.tagline]])]),e("div",$,[ee,i(e("input",{class:"w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm focus:border-primary-light focus:ring focus:ring-primary-light focus:ring-opacity-50",type:"text",id:"genre","onUpdate:modelValue":o[5]||(o[5]=t=>s.genre=t),placeholder:""},null,512),[[c,s.genre]])])]),e("div",oe,[te,i(e("input",{required:"",class:"w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm focus:border-primary-light focus:ring focus:ring-primary-light focus:ring-opacity-50",type:"email",id:"contact","onUpdate:modelValue":o[6]||(o[6]=t=>s.contact=t),placeholder:"email@yale.edu"},null,512),[[c,s.contact]])]),e("div",se,[re,i(e("textarea",{required:"",class:"w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm focus:border-primary-light focus:ring focus:ring-primary-light focus:ring-opacity-50",id:"description","onUpdate:modelValue":o[7]||(o[7]=t=>s.description=t),placeholder:"Description"},null,512),[[c,s.description]])]),e("div",ie,[e("div",le,[ce,e("input",ne,null,512),ae]),e("div",de,[pe,e("input",ue,null,512),he])]),e("div",ge,[e("div",fe,[be,i(e("input",{class:"w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm focus:border-primary-light focus:ring focus:ring-primary-light focus:ring-opacity-50",type:"date",id:"shootStart","onUpdate:modelValue":o[8]||(o[8]=t=>s.shootStart=t),placeholder:"Shoot Start"},null,512),[[c,s.shootStart]])]),e("div",ye,[me,i(e("input",{class:"w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm focus:border-primary-light focus:ring focus:ring-primary-light focus:ring-opacity-50",type:"date",id:"shootEnd","onUpdate:modelValue":o[9]||(o[9]=t=>s.shootEnd=t),placeholder:"Shoot End"},null,512),[[c,s.shootEnd]])])]),e("div",xe,[e("label",_e,[ke,i(e("input",{class:"checkbox checkbox-sm",type:"checkbox",id:"vacancies","onUpdate:modelValue":o[10]||(o[10]=t=>s.vacancies=t)},null,512),[[b,s.vacancies]])])]),i((d(),p("div",null,[s.vacancies?(d(),p("div",we,[ve,e("ul",De,[e("li",Se,[e("div",Ce,[e("input",Ue,null,512),Ee])]),e("li",Pe,[e("div",Ve,[e("input",Ae,null,512),Fe])]),e("li",Ge,[e("div",Te,[e("input",Ie,null,512),Le])]),e("li",Be,[e("div",Re,[e("input",Ne,null,512),Oe])]),e("li",qe,[e("div",Me,[e("input",je,null,512),Je])]),e("li",We,[e("div",Ye,[e("input",Ke,null,512),Qe])]),e("li",Xe,[e("div",ze,[e("input",He,null,512),Ze])]),e("li",$e,[e("div",eo,[e("input",oo,null,512),to])]),e("li",so,[e("div",ro,[e("input",io,null,512),lo])]),e("li",co,[e("div",no,[e("input",ao,null,512),po])]),e("li",uo,[e("div",ho,[e("input",go,null,512),fo])]),e("li",bo,[e("div",yo,[e("input",mo,null,512),xo])]),e("li",_o,[e("div",ko,[e("input",wo,null,512),vo])]),e("li",Do,[e("div",So,[e("input",Co,null,512),Uo])]),e("li",Eo,[e("div",Po,[e("input",Vo,null,512),Ao])]),e("li",Fo,[e("div",Go,[e("input",To,null,512),Io])]),e("li",Lo,[e("div",Bo,[e("input",Ro,null,512),No])])])])):f("",!0)])),[[g]]),e("div",Oo,[e("label",qo,[Mo,i(e("input",{class:"checkbox checkbox-sm",type:"checkbox",id:"actors","onUpdate:modelValue":o[11]||(o[11]=t=>s.actors=t)},null,512),[[b,s.actors]])])]),i((d(),p("div",{onSubmit:o[13]||(o[13]=D((...t)=>l.submitForm&&l.submitForm(...t),["prevent"]))},[s.actors?(d(),p("div",jo,[Jo,e("ul",Wo,[(d(!0),p(S,null,F(s.characters,(t,n)=>(d(),p("li",{class:"w-full rounded-t-lg border-b border-gray-200 dark:border-gray-600",key:n},[e("div",Yo,[Ko,i(e("input",{required:"",class:"w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm focus:border-primary-light focus:ring focus:ring-primary-light focus:ring-opacity-50","onUpdate:modelValue":a=>t.name=a,placeholder:"Enter character name"},null,8,Qo),[[c,t.name]]),Xo,i(e("textarea",{required:"",class:"w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm focus:border-primary-light focus:ring focus:ring-primary-light focus:ring-opacity-50","onUpdate:modelValue":a=>t.description=a,placeholder:"Enter character description"},null,8,zo),[[c,t.description]])])]))),128))]),e("button",{type:"button",onClick:o[12]||(o[12]=(...t)=>h.addCharacter&&h.addCharacter(...t)),class:"btn w-full px-4 py-2 text-white bg-primary-light rounded-md shadow-sm hover:bg-primary-dark focus:outline-none focus:ring focus:ring-primary-light focus:ring-opacity-50"},"Add Another Character")])):f("",!0)],32)),[[g]]),e("div",Ho,[e("label",Zo,[$o,i(e("input",{class:"checkbox checkbox-sm",type:"checkbox",id:"screening","onUpdate:modelValue":o[14]||(o[14]=t=>s.screening=t),placeholder:"Screening"},null,512),[[b,s.screening]])])]),i((d(),p("div",null,[s.screening?(d(),p("div",et,[ot,i(e("input",{class:"w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm focus:border-primary-light focus:ring focus:ring-primary-light focus:ring-opacity-50",type:"date",id:"screeningDate","onUpdate:modelValue":o[15]||(o[15]=t=>s.screenDate=t),placeholder:"Screening Date"},null,512),[[c,s.screenDate]])])):f("",!0)])),[[g]]),i((d(),p("div",null,[s.screening?(d(),p("div",tt,[st,i(e("input",{class:"w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm focus:border-primary-light focus:ring focus:ring-primary-light focus:ring-opacity-50",type:"text",id:"screeningLocation","onUpdate:modelValue":o[16]||(o[16]=t=>l.screenLocation=t),placeholder:"Screening Location"},null,512),[[c,l.screenLocation]])])):f("",!0)])),[[g]]),rt],32)])],64)}var nt=E(G,[["render",it]]);export{nt as default};
