import{_ as U,M as y,$ as m,a1 as E,L as x,N as _,O as k,Q as w,a2 as P,h as V,o as n,c as a,b as e,U as v,w as i,V as c,W as b,X as f,F as D,r as A,d as S}from"./index.39398e98.js";const F={data(){return{title:"",tagline:"",contact:"",description:"",director:"",producer:"",genre:"",posterUrl:"",mediaUrls:[],shootStart:"",shootEnd:"",positions:[],vacancies:!1,screening:!1,actors:!1,screenDate:"",user:y.getters.userEmail,characters:[{name:"",description:""}]}},mounted(){const l=this.$route.params.id,t=m(S,"productions",l);E(t).then(d=>{if(d.exists()){const r=d.data();this.title=r.title,this.tagline=r.tagline,this.contact=r.contact,this.description=r.description,this.director=r.director,this.producer=r.producer,this.genre=r.genre,this.posterUrl=r.posterUrl,this.mediaUrls=r.mediaUrls,this.shootStart=this.firestoreTimestampToDateInputValue(r.shootStart),this.shootEnd=this.firestoreTimestampToDateInputValue(r.shootEnd),this.positions=r.positions,this.vacancies=r.vacancies,this.screening=r.screening,this.actors=r.actors,this.screenDate=r.screenDate,this.user=r.user,this.characters=r.roles,this.allPositionsChecked()}})},methods:{async updateFilm(){const l=this.$refs.posterInput.files[0];if(!l.type.startsWith("image/")){alert("Only images are accepted for the poster.");return}const t=x(_,`${this.title}/poster`);await k(t,l).then(async o=>{const h=await w(t);this.posterUrl=h});const d=this.$refs.mediaInput.files;for(let o=0;o<d.length;o++){const h=d[o],g=x(_,`${this.title}/media/${h.name}`);await k(g,h).then(async it=>{const C=await w(g);this.mediaUrls.push(C)})}document.querySelectorAll('input[type="checkbox"]:checked').forEach(o=>{o.value!="on"&&this.positions.push(o.value)});const s={title:this.title,tagline:this.tagline,contact:this.contact,description:this.description,director:this.director,producer:this.producer,positions:this.positions,genre:this.genre,posterUrl:this.posterUrl,mediaUrls:this.mediaUrls,shootStart:this.shootStart===""?"TBD":new Date(Date.parse(this.shootStart)),shootEnd:this.shootEnd===""?"TBD":new Date(Date.parse(this.shootEnd)),vacancies:this.vacancies,screening:this.screening,screenDate:this.screenDate===""?"TBD":new Date(Date.parse(this.screenDate)),user:y.getters.userEmail,roles:this.characters},p=this.$route.params.id,u=m(S,"productions",p);await P(u,s)},addCharacter(){this.characters.push({name:"",description:""})},redirectToOpportunitiesForFilmmakers(){this.$router.push({name:"opportunitiesFilmmakers"})},firestoreTimestampToDateInputValue(l){if(l==="TBD")return"TBD";const t=l.toDate(),d=t.getFullYear(),r=String(t.getMonth()+1).padStart(2,"0"),s=String(t.getDate()).padStart(2,"0");return`${d}-${r}-${s}`},allPositionsChecked(){return this.positions.every(l=>l.checked)}}},G=e("input",{type:"checkbox",id:"my-modal",class:"modal-toggle"},null,-1),T={class:"modal"},I={class:"modal-box"},L=e("h3",{class:"font-bold text-lg"},"Congratulations!",-1),B=e("p",{class:"py-4"},'Your film has been submitted to our system! If you are looking to complete your crew, vacancies for your set have been published on the "Set Opportunities" page.',-1),R={class:"modal-action"},N={class:"flex flex-col items-center min-h-screen py-2 pt-14"},O=e("h1",{class:"text-3xl font-bold text-primary-light"},"Edit a Production",-1),q=e("p",{class:"text-primary-light"},"Fill out the form below to list a screeening, open positions on your set, or both.",-1),M={class:"flex flex-col gap-2 w-full px-4 py-4"},j=e("label",{class:"text-primary-light",for:"title"},"Title",-1),J={class:"flex flex-row gap-4 w-full px-4 py-4"},W={class:"flex flex-col gap-2 w-1/2"},Y=e("label",{class:"text-primary-light",for:"director"},"Director",-1),K={class:"flex flex-col gap-2 w-1/2"},Q=e("label",{class:"text-primary-light",for:"producer"},"Producer",-1),X={class:"flex flex-row gap-4 w-full px-4 py-4"},z={class:"flex flex-col gap-2 w-3/4"},H=e("label",{class:"text-primary-light",for:"tagline"},"Tagline",-1),Z={class:"flex flex-col gap-2 w-1/4"},$=e("label",{class:"text-primary-light",for:"genre"},"Genre",-1),ee={class:"flex flex-col gap-2 w-full px-4 py-4"},oe=e("label",{class:"text-primary-light",for:"contact"},"Contact",-1),te={class:"flex flex-col gap-2 w-full px-4 py-4"},se=e("label",{class:"text-primary-light",for:"description"},"Description",-1),re={class:"flex flex-row gap-4 w-full px-4 py-4"},ie={class:"flex flex-col w-1/2"},le=e("label",{class:"block mb-2 text-primary-light",for:"poster"},"Upload Poster",-1),ce={class:"block w-full text-primary-light border border-gray-300 rounded-lg cursor-pointer focus:border-primary-light focus:ring focus:ring-primary-light focus:ring-opacity-50",type:"file",id:"poster",ref:"posterInput"},ne=e("p",{class:"mt-1 text-sm text-gray-500 dark:text-gray-300",id:"file_input_help"},"PNG or JPEG.",-1),ae={class:"flex flex-col w-1/2"},de=e("label",{class:"block mb-2 text-primary-light"},"Additional Media (select up to 5)",-1),pe={class:"block w-full text-primary-light border border-gray-300 rounded-lg cursor-pointer focus:border-primary-light focus:ring focus:ring-primary-light focus:ring-opacity-50",type:"file",id:"media",ref:"mediaInput",multiple:""},ue=e("p",{class:"mt-1 text-sm text-gray-500 dark:text-gray-300",id:"file_input_help"},"Up to 5 files. PNG, JPEG, or PDF.",-1),he={class:"flex flex-row gap-4 w-full px-4 py-4"},ge={class:"flex flex-col gap-2 w-1/2"},fe=e("label",{class:"text-primary-light",for:"shootStart"},"Shoot Start",-1),be={class:"flex flex-col gap-2 w-1/2"},ye=e("label",{class:"text-primary-light",for:"shootEnd"},"Shoot End",-1),me={class:"px-4 py-4"},xe={class:"flex flex-row items-center gap-4 justify-center label cursor-pointer text-primary-light",for:"vacancies"},_e=e("span",{class:""},"Looking for additional crew members?",-1),ke={key:0,class:"flex flex-col w-full px-4 py-4 gap-4"},we=e("label",{class:"text-primary-light"},"Positions Available",-1),ve={class:"w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm focus:border-primary-light focus:ring focus:ring-primary-light focus:ring-opacity-50"},De={class:"w-full rounded-t-lg border-b border-gray-200 dark:border-gray-600"},Se={class:"flex items-center py-2 gap-2"},Ce={class:"checkbox checkbox-xs",type:"checkbox",ref:"checkbox",name:"position",value:"Director of Photography",id:"Director of Photography"},Ue=e("label",{for:"Director of Photography"},"Director of Photography",-1),Ee={class:"w-full rounded-t-lg border-b border-gray-200 dark:border-gray-600"},Pe={class:"flex items-center py-2 gap-2"},Ve={class:"checkbox checkbox-xs",type:"checkbox",ref:"checkbox",name:"position",value:"Assistant Camera",id:"Assistant Camera"},Ae=e("label",{for:"Assistant Camera"},"Assistant Camera",-1),Fe={class:"w-full rounded-t-lg border-b border-gray-200 dark:border-gray-600"},Ge={class:"flex items-center py-2 gap-2"},Te={class:"checkbox checkbox-xs",type:"checkbox",ref:"checkbox",name:"position",value:"Gaffer",id:"Gaffer"},Ie=e("label",{for:"Gaffer"},"Gaffer",-1),Le={class:"w-full rounded-t-lg border-b border-gray-200 dark:border-gray-600"},Be={class:"flex items-center py-2 gap-2"},Re={class:"checkbox checkbox-xs",type:"checkbox",ref:"checkbox",name:"position",value:"Sound Designer",id:"Sound Designer"},Ne=e("label",{for:"Sound Designer"},"Sound Designer",-1),Oe={class:"w-full rounded-t-lg border-b border-gray-200 dark:border-gray-600"},qe={class:"flex items-center py-2 gap-2"},Me={class:"checkbox checkbox-xs",type:"checkbox",ref:"checkbox",name:"position",value:"Sound Editor",id:"Sound Editor"},je=e("label",{for:"Sound Editor"},"Sound Editor",-1),Je={class:"w-full rounded-t-lg border-b border-gray-200 dark:border-gray-600"},We={class:"flex items-center py-2 gap-2"},Ye={class:"checkbox checkbox-xs",type:"checkbox",ref:"checkbox",name:"position",value:"Editor (General)",id:"Editor (General)"},Ke=e("label",{for:"Editor (General)"},"Editor (General)",-1),Qe={class:"w-full rounded-t-lg border-b border-gray-200 dark:border-gray-600"},Xe={class:"flex items-center py-2 gap-2"},ze={class:"checkbox checkbox-xs",type:"checkbox",ref:"checkbox",name:"position",value:"Colorist",id:"Colorist"},He=e("label",{for:"Colorist"},"Colorist",-1),Ze={class:"w-full rounded-t-lg border-b border-gray-200 dark:border-gray-600"},$e={class:"flex items-center py-2 gap-2"},eo={class:"checkbox checkbox-xs",type:"checkbox",ref:"checkbox",name:"position",value:"Assistant Director",id:"Assistant Director"},oo=e("label",{for:"Assistant Director"},"Assistant Director",-1),to={class:"w-full rounded-t-lg border-b border-gray-200 dark:border-gray-600"},so={class:"flex items-center py-2 gap-2"},ro={class:"checkbox checkbox-xs",type:"checkbox",ref:"checkbox",name:"position",value:"Assistant Producer",id:"Assistant Producer"},io=e("label",{for:"Assistant Producer"},"Assistant Producer",-1),lo={class:"w-full rounded-t-lg border-b border-gray-200 dark:border-gray-600"},co={class:"flex items-center py-2 gap-2"},no={class:"checkbox checkbox-xs",type:"checkbox",ref:"checkbox",name:"position",value:"PA",id:"PA"},ao=e("label",{for:"PA"},"Production Assistant (PA)",-1),po={class:"w-full rounded-t-lg border-b border-gray-200 dark:border-gray-600"},uo={class:"flex items-center py-2 gap-2"},ho={class:"checkbox checkbox-xs",type:"checkbox",ref:"checkbox",name:"position",value:"Grip",id:"Grip"},go=e("label",{for:"Grip"},"Grip",-1),fo={class:"w-full rounded-t-lg border-b border-gray-200 dark:border-gray-600"},bo={class:"flex items-center py-2 gap-2"},yo={class:"checkbox checkbox-xs",type:"checkbox",ref:"checkbox",name:"position",value:"Composer",id:"Composer"},mo=e("label",{for:"Composer"},"Composer",-1),xo={class:"w-full rounded-t-lg border-b border-gray-200 dark:border-gray-600"},_o={class:"flex items-center py-2 gap-2"},ko={class:"checkbox checkbox-xs",type:"checkbox",ref:"checkbox",name:"position",value:"Production (Set) Designer",id:"Production (Set) Designer"},wo=e("label",{for:"Production (Set) Designer"},"Production (Set) Designer",-1),vo={class:"w-full rounded-t-lg border-b border-gray-200 dark:border-gray-600"},Do={class:"flex items-center py-2 gap-2"},So={class:"checkbox checkbox-xs",type:"checkbox",ref:"checkbox",name:"position",value:"Sound Recordist",id:"Sound Recordist"},Co=e("label",{for:"Sound Recordist"},"Sound Recordist",-1),Uo={class:"w-full rounded-t-lg border-b border-gray-200 dark:border-gray-600"},Eo={class:"flex items-center py-2 gap-2"},Po={class:"checkbox checkbox-xs",type:"checkbox",ref:"checkbox",name:"position",value:"Costume Designer",id:"Costume Designer"},Vo=e("label",{for:"Costume Designer"},"Costume Designer",-1),Ao={class:"w-full rounded-t-lg border-b border-gray-200 dark:border-gray-600"},Fo={class:"flex items-center py-2 gap-2"},Go={class:"checkbox checkbox-xs",type:"checkbox",ref:"checkbox",name:"position",value:"Intimacy Coordinator",id:"Intimacy Coordinator"},To=e("label",{for:"Intimacy Coordinator"},"Intimacy Coordinator",-1),Io={class:"w-full rounded-t-lg border-gray-200 dark:border-gray-600"},Lo={class:"flex items-center py-2 gap-2"},Bo={class:"checkbox checkbox-xs",type:"checkbox",ref:"checkbox",name:"position",value:"Fight Coordinator",id:"Fight Coordinator"},Ro=e("label",{for:"Fight Coordinator"},"Fight Coordinator",-1),No={class:"px-4 py-4"},Oo={class:"flex flex-row items-center gap-4 justify-center label cursor-pointer text-primary-light",for:"actors"},qo=e("span",{class:""},"Looking for actors?",-1),Mo={key:0,class:"flex flex-col w-full px-4 py-4 gap-4"},jo=e("label",{class:"text-primary-light"},"Characters Needed",-1),Jo={class:"w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm focus:border-primary-light focus:ring focus:ring-primary-light focus:ring-opacity-50"},Wo={class:"flex flex-col py-2 gap-2"},Yo=e("label",{class:"text-primary-light",for:"characterName"},"Character Name",-1),Ko=["onUpdate:modelValue"],Qo=e("label",{class:"text-primary-light",for:"characterDescription"},"Description",-1),Xo=["onUpdate:modelValue"],zo={class:"px-4 py-4"},Ho={class:"flex flex-row items-center gap-4 justify-center label cursor-pointer text-primary-light",for:"screening"},Zo=e("span",{class:"text-primary-light",for:"screening"},"Is the film screening?",-1),$o={key:0,class:"flex flex-col gap-2 w-full px-4 py-4"},et=e("label",{class:"text-primary-light",for:"screeningDate"},"Screening Date",-1),ot={key:0,class:"flex flex-col gap-2 w-full px-4 py-4"},tt=e("label",{class:"text-primary-light",for:"screeningLocation"},"Screening Location",-1),st=e("div",{class:"flex flex-row justify-center w-full px-4 py-4"},[e("button",{for:"my-modal",class:"btn w-full px-4 py-2 text-white bg-primary-light rounded-md shadow-sm hover:bg-primary-dark focus:outline-none focus:ring focus:ring-primary-light focus:ring-opacity-50"},"Submit")],-1);function rt(l,t,d,r,s,p){const u=V("auto-animate");return n(),a(D,null,[G,e("div",T,[e("div",I,[L,B,e("div",R,[e("label",{onClick:t[0]||(t[0]=(...o)=>p.redirectToOpportunitiesForFilmmakers&&p.redirectToOpportunitiesForFilmmakers(...o)),class:"btn"},"Go to your published production")])])]),e("div",N,[O,q,e("form",{class:"flex flex-col flex-wrap min-w-full px-96 py-4",onSubmit:t[17]||(t[17]=v((...o)=>p.updateFilm&&p.updateFilm(...o),["prevent"]))},[e("div",M,[j,i(e("input",{required:"",class:"w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm focus:border-primary-light focus:ring focus:ring-primary-light focus:ring-opacity-50",type:"text",id:"title","onUpdate:modelValue":t[1]||(t[1]=o=>s.title=o),placeholder:""},null,512),[[c,s.title]])]),e("div",J,[e("div",W,[Y,i(e("input",{required:"",class:"w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm focus:border-primary-light focus:ring focus:ring-primary-light focus:ring-opacity-50",type:"text",id:"director","onUpdate:modelValue":t[2]||(t[2]=o=>s.director=o),placeholder:""},null,512),[[c,s.director]])]),e("div",K,[Q,i(e("input",{class:"w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm focus:border-primary-light focus:ring focus:ring-primary-light focus:ring-opacity-50",type:"text",id:"producer","onUpdate:modelValue":t[3]||(t[3]=o=>s.producer=o),placeholder:""},null,512),[[c,s.producer]])])]),e("div",X,[e("div",z,[H,i(e("input",{class:"w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm focus:border-primary-light focus:ring focus:ring-primary-light focus:ring-opacity-50",type:"text",id:"tagline","onUpdate:modelValue":t[4]||(t[4]=o=>s.tagline=o),placeholder:""},null,512),[[c,s.tagline]])]),e("div",Z,[$,i(e("input",{class:"w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm focus:border-primary-light focus:ring focus:ring-primary-light focus:ring-opacity-50",type:"text",id:"genre","onUpdate:modelValue":t[5]||(t[5]=o=>s.genre=o),placeholder:""},null,512),[[c,s.genre]])])]),e("div",ee,[oe,i(e("input",{required:"",class:"w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm focus:border-primary-light focus:ring focus:ring-primary-light focus:ring-opacity-50",type:"email",id:"contact","onUpdate:modelValue":t[6]||(t[6]=o=>s.contact=o),placeholder:"email@yale.edu"},null,512),[[c,s.contact]])]),e("div",te,[se,i(e("textarea",{required:"",class:"w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm focus:border-primary-light focus:ring focus:ring-primary-light focus:ring-opacity-50",id:"description","onUpdate:modelValue":t[7]||(t[7]=o=>s.description=o),placeholder:"Description"},null,512),[[c,s.description]])]),e("div",re,[e("div",ie,[le,e("input",ce,null,512),ne]),e("div",ae,[de,e("input",pe,null,512),ue])]),e("div",he,[e("div",ge,[fe,i(e("input",{class:"w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm focus:border-primary-light focus:ring focus:ring-primary-light focus:ring-opacity-50",type:"date",id:"shootStart","onUpdate:modelValue":t[8]||(t[8]=o=>s.shootStart=o),placeholder:"Shoot Start"},null,512),[[c,s.shootStart]])]),e("div",be,[ye,i(e("input",{class:"w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm focus:border-primary-light focus:ring focus:ring-primary-light focus:ring-opacity-50",type:"date",id:"shootEnd","onUpdate:modelValue":t[9]||(t[9]=o=>s.shootEnd=o),placeholder:"Shoot End"},null,512),[[c,s.shootEnd]])])]),e("div",me,[e("label",xe,[_e,i(e("input",{class:"checkbox checkbox-sm",type:"checkbox",id:"vacancies","onUpdate:modelValue":t[10]||(t[10]=o=>s.vacancies=o)},null,512),[[b,s.vacancies]])])]),i((n(),a("div",null,[s.vacancies?(n(),a("div",ke,[we,e("ul",ve,[e("li",De,[e("div",Se,[e("input",Ce,null,512),Ue])]),e("li",Ee,[e("div",Pe,[e("input",Ve,null,512),Ae])]),e("li",Fe,[e("div",Ge,[e("input",Te,null,512),Ie])]),e("li",Le,[e("div",Be,[e("input",Re,null,512),Ne])]),e("li",Oe,[e("div",qe,[e("input",Me,null,512),je])]),e("li",Je,[e("div",We,[e("input",Ye,null,512),Ke])]),e("li",Qe,[e("div",Xe,[e("input",ze,null,512),He])]),e("li",Ze,[e("div",$e,[e("input",eo,null,512),oo])]),e("li",to,[e("div",so,[e("input",ro,null,512),io])]),e("li",lo,[e("div",co,[e("input",no,null,512),ao])]),e("li",po,[e("div",uo,[e("input",ho,null,512),go])]),e("li",fo,[e("div",bo,[e("input",yo,null,512),mo])]),e("li",xo,[e("div",_o,[e("input",ko,null,512),wo])]),e("li",vo,[e("div",Do,[e("input",So,null,512),Co])]),e("li",Uo,[e("div",Eo,[e("input",Po,null,512),Vo])]),e("li",Ao,[e("div",Fo,[e("input",Go,null,512),To])]),e("li",Io,[e("div",Lo,[e("input",Bo,null,512),Ro])])])])):f("",!0)])),[[u]]),e("div",No,[e("label",Oo,[qo,i(e("input",{class:"checkbox checkbox-sm",type:"checkbox",id:"actors","onUpdate:modelValue":t[11]||(t[11]=o=>s.actors=o)},null,512),[[b,s.actors]])])]),i((n(),a("div",{onSubmit:t[13]||(t[13]=v((...o)=>l.submitForm&&l.submitForm(...o),["prevent"]))},[s.actors?(n(),a("div",Mo,[jo,e("ul",Jo,[(n(!0),a(D,null,A(s.characters,(o,h)=>(n(),a("li",{class:"w-full rounded-t-lg border-b border-gray-200 dark:border-gray-600",key:h},[e("div",Wo,[Yo,i(e("input",{required:"",class:"w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm focus:border-primary-light focus:ring focus:ring-primary-light focus:ring-opacity-50","onUpdate:modelValue":g=>o.name=g,placeholder:"Enter character name"},null,8,Ko),[[c,o.name]]),Qo,i(e("textarea",{required:"",class:"w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm focus:border-primary-light focus:ring focus:ring-primary-light focus:ring-opacity-50","onUpdate:modelValue":g=>o.description=g,placeholder:"Enter character description"},null,8,Xo),[[c,o.description]])])]))),128))]),e("button",{type:"button",onClick:t[12]||(t[12]=(...o)=>p.addCharacter&&p.addCharacter(...o)),class:"btn w-full px-4 py-2 text-white bg-primary-light rounded-md shadow-sm hover:bg-primary-dark focus:outline-none focus:ring focus:ring-primary-light focus:ring-opacity-50"},"Add Another Character")])):f("",!0)],32)),[[u]]),e("div",zo,[e("label",Ho,[Zo,i(e("input",{class:"checkbox checkbox-sm",type:"checkbox",id:"screening","onUpdate:modelValue":t[14]||(t[14]=o=>s.screening=o),placeholder:"Screening"},null,512),[[b,s.screening]])])]),i((n(),a("div",null,[s.screening?(n(),a("div",$o,[et,i(e("input",{class:"w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm focus:border-primary-light focus:ring focus:ring-primary-light focus:ring-opacity-50",type:"date",id:"screeningDate","onUpdate:modelValue":t[15]||(t[15]=o=>s.screenDate=o),placeholder:"Screening Date"},null,512),[[c,s.screenDate]])])):f("",!0)])),[[u]]),i((n(),a("div",null,[s.screening?(n(),a("div",ot,[tt,i(e("input",{class:"w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm focus:border-primary-light focus:ring focus:ring-primary-light focus:ring-opacity-50",type:"text",id:"screeningLocation","onUpdate:modelValue":t[16]||(t[16]=o=>l.screenLocation=o),placeholder:"Screening Location"},null,512),[[c,l.screenLocation]])])):f("",!0)])),[[u]]),st],32)])],64)}var ct=U(F,[["render",rt]]);export{ct as default};
